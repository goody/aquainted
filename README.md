# Acquainted

**People I met — tag, search, remember**

A lightweight, offline-first PWA for remembering the people you meet. Tag them with facets (job, city, interest, how you met), search and filter instantly, and never blank on a name again.

---

## Features

- **Quick Add** — capture a new person in seconds from any screen
- **Facets** — tag people with typed attributes (`job: engineer`, `city: Austin`, or plain tags)
- **Filter & Search** — filter the home list by one or more facets; full-text search by name
- **Facet Browser** — browse all tags with usage counts; rename or delete tags globally
- **Person Detail** — view all facets grouped by type; pin the most important ones to show on cards
- **Import / Export** — back up and restore your data as a single JSON file
- **Dark Mode** — system-aware light/dark theme with manual override
- **Offline-first** — works with no connection; all data stays on your device (IndexedDB)
- **Installable** — add to home screen on iOS, Android, and desktop

---

## Tech Stack

| Layer | Choice |
|---|---|
| UI | React 18 + TypeScript |
| Build | Vite 5 |
| Storage | Dexie (IndexedDB wrapper) |
| PWA / Service Worker | vite-plugin-pwa (Workbox) |
| Routing | React Router v6 |
| Styling | Custom CSS with design tokens (no UI library) |

---

## Getting Started

```bash
# Install dependencies
npm install

# Start dev server
npm run dev

# Type-check
npx tsc --noEmit

# Production build
npm run build

# Preview production build locally
npm run preview
```

---

## Project Structure

```
src/
  db/
    types.ts              # Person, Facet, Link, ExportData interfaces
    db.ts                 # Dexie schema (v1)
  repos/
    PeopleRepo.ts         # CRUD for people
    FacetRepo.ts          # CRUD + search + usage counts for facets
    LinkRepo.ts           # Person ↔ Facet many-to-many links
  services/
    facetNormalize.ts     # Dedupe key: "type:normalized-label"
    exportImport.ts       # JSON export / merge-import logic
  hooks/
    useTheme.ts           # Light/dark theme with localStorage persistence
    useFilteredPeople.ts  # Filtered + searched people list
    useRecentFacets.ts    # Recently used facets for quick-add
  components/
    FacetChip.tsx         # Reusable chip (filter / card / detail variants)
    FilterBar.tsx         # Active facet filter pills
    SearchBar.tsx         # Name search input
    PersonCard.tsx        # Card shown on home list
    QuickAddModal.tsx     # Slide-up modal for fast person entry
  screens/
    HomeScreen.tsx        # People list with search + filter
    PersonDetailScreen.tsx
    AddEditPersonScreen.tsx
    FacetsBrowserScreen.tsx
    SettingsScreen.tsx    # Theme toggle, export, import, clear data
  styles/
    tokens.css            # CSS custom properties (colors, radius, shadow)
    global.css            # Resets, base styles, shared utility classes
  App.tsx                 # Router + BottomNav
  main.tsx
public/
  icons/
    icon-192.png
    icon-512.png
  manifest.json           # Web App Manifest
```

---

## Data Model

```
Person       { id, name, notes?, createdAt, updatedAt, pinnedFacetIds?, lastViewedAt? }
Facet        { id, label, type?, normalizedKey, createdAt }
Link         { personId, facetId }   ← junction table (many-to-many)
```

Facets are deduplicated by `normalizedKey` = `type:normalized-label`. Creating the same tag twice reuses the existing record. Deleting a facet removes all associated links atomically.

---

## PWA / Offline

The service worker is generated by [vite-plugin-pwa](https://vite-pwa-org.netlify.app/) (Workbox). It pre-caches all built assets and updates automatically on new deployments. All user data lives in the browser's IndexedDB — no server, no account required.

To install: open in Chrome/Safari → browser menu → "Add to Home Screen" / "Install App".

---

## Known Limitations / Roadmap

- No cloud sync — data is local to each browser/device
- No photo support for people
- No undo for deletes
- No bulk operations (multi-select, batch delete)
- No facet merging across types
- No unit tests yet
